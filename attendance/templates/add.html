{% extends "layout.html" %}
{% block content %}
<div class="content-section">
    <form method="POST" enctype="multipart/form-data">
        {{ form.hidden_tag() }}

        <fieldset class="form-group">
            <legend class="border-bottom mb-4">Crear Nueva Clase</legend>

            <div class="form-row">
                <div class="form-group col-md-6">
                    {{ form.classname.label(class="form-control-label") }}
                    {{ form.classname(class="form-control") }}
                </div>

                <div class="form-group col-md-6">
                    {{ form.coordinator.label(class="form-control-label") }}
                    {{ form.coordinator(class="form-control") }}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-12">
                    {{ form.co_email.label(class="form-control-label") }}
                    {{ form.co_email(class="form-control") }}
                </div>
            </div>

            <hr>
            <h4>Estudiantes</h4>

            <div id="students-container"></div>

            <button type="button" class="btn btn-secondary mt-3" onclick="addStudent()">
                + Agregar Estudiante
            </button>

        </fieldset>

        <div class="form-group mt-4">
            {{ form.submit(class="btn btn-outline-info") }}
        </div>

    </form>
</div>

<script>
    let studentCount = 0;

    function addStudent() {
        studentCount++;

        let container = document.getElementById("students-container");

        let block = document.createElement("div");
        block.classList.add("form-row", "border", "p-3", "mt-3");
        block.innerHTML = `
		<div class="form-group col-md-4">
			<label>Nombre del Estudiante</label>
			<textarea name="stuname_${studentCount}" class="form-control" rows="2" required></textarea>
		</div>

		<div class="form-group col-md-4">
			<label>Registro</label>
			<textarea name="regno_${studentCount}" class="form-control" rows="2" required></textarea>
		</div>

		<div class="form-group col-md-4">
			<label>Tel√©fono</label>
			<textarea name="mobileno_${studentCount}" class="form-control" rows="2"></textarea>
		</div>
        `;

        container.appendChild(block);
    }
</script>

{% endblock content %}
